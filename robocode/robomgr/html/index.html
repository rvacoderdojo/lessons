<!DOCTYPE html>
<html>
<head>
    <meta charset=="utf-8">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="/css/dropzone.css">
    <link rel="stylesheet" href="/css/override.css">
    <script src="/js/dropzone.js"></script>
</head>
<body>
<form id="botDropzone" class="dropzone" action="/upload">
    <div class="row">
        <div class="col-md-1"></div>
        <div id="dropzone-thumbs" class="dropzone-previews col-md-10">
            <div class="dz-message">Drop files here to upload</div>
        </div>
        <div class="col-md-1"></div>
    </div>
    <div class="row">
        <div class="col-md-4"></div>
        <div class="col-md-4">
            <button type="submit" class="btn btn-success btn-lg center-block">Teleport your bot!</button>
        </div>
        <div class="col-md-4"></div>
    </div>
</form>
<script>
    Dropzone.options.botDropzone = { // The camelized version of the ID of the form element

        // The configuration we've talked about above
        autoProcessQueue: false,
        uploadMultiple: true,
        parallelUploads: 100,
        maxFiles: 100,
        maxFilesize: 100,
        previewsContainer: '#dropzone-thumbs',

        // The setting up of the dropzone
        init: function() {
            var myDropzone = this;

            // First change the button to actually tell Dropzone to process the queue.
            this.element.querySelector("button[type=submit]").addEventListener("click", function(e) {
                // Make sure that the form isn't actually being sent.
                e.preventDefault();
                e.stopPropagation();
                myDropzone.processQueue();
            });

            // Override the thumbnail with a Robocode image.
            this.on("addedfile", function(file) {
                myDropzone.emit("thumbnail", file, "/images/tank-thumbnail.png");
                console.log('Rendering thumbnail');
            });

        }

    }
</script>
</body>